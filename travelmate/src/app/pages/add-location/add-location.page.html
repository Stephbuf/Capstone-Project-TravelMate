<!-- add-location.page.html -->
<ion-content class="ion-padding">
  <form [formGroup]="locationForm" (ngSubmit)="onSubmit()">
    <ion-item>
      <ion-label position="floating">Country</ion-label>
      <ion-input formControlName="country" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">City</ion-label>
      <ion-input formControlName="city" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Category</ion-label>
      <ion-select formControlName="category" (ionChange)="onCategoryChange($event)">
        <ion-select-option *ngFor="let cat of categories" [value]="cat">{{ cat }}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item *ngIf="showCustomCategory">
      <ion-label position="floating">New Category</ion-label>
      <ion-input formControlName="customCategory" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Address</ion-label>
      <ion-input formControlName="address" required></ion-input>
    </ion-item>

    <ion-button expand="full" type="submit" [disabled]="locationForm.invalid || isSubmitting">
      Save Location
    </ion-button>
  </form>
</ion-content>
